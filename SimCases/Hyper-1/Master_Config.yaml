# ==========================================
# 1. 批次處理與路徑設定 (Batch & Paths)
# ==========================================
settings:
  # [New] The overall project name, used for creating the main output folder.
  project_name: "Hyper-1"

# ==========================================
# 2. 地圖生成器設定 (Map Generator)
# ==========================================
map_generator:
  # Controls the hybrid_map_gen.py script
  domain:
    height: 1024
    width: 4096
  pinball:
    center_x_ratio: 0.12
    center_y_ratio: 0.5
    radius_ratio: 0.05
    spacing_factor: 2.5
  tube_bank:
    start_x_ratio: 0.30
    end_x_ratio: 0.55
    radius_ratio: 0.03
    num_rows: 5
    num_cols: 6
    jitter_amount: 3
  step_urban:
    step_start_ratio: 0.55
    step_width_ratio: 0.05
    step_height_ratio: 0.35
    block_start_ratio: 0.70
    block_end_ratio: 0.85
    rect_count: 8
    max_attempts: 200
    min_distance: 64
    max_blockage_ratio: 1.0
    rotate_angle_max: 5
    rect_size:
      min_w: 50
      max_w: 200
      min_h: 50
      max_h: 200
  validation:
    boundary_buffer: 10
  output:
    invert_values: True

# ==========================================
# 3. 物理與模擬控制 (Physics & Simulation)
# ==========================================
physics_control:
  # 雷諾數列表 (循環使用)
  re_list: [ 100, 200, 500, 800, 1000, 2000, 3000, 4000]

  # 入口速度 U_LB
  u_lb: 0.05

  # 目標採樣率 (每物理秒存幾次)
  saves_per_physical_second: 25

# ==========================================
# 4. 基礎模擬模板 (Base Template)
# ==========================================
# This section remains unchanged.
template:
  simulation:
    nx: 4096
    ny: 1024
    # nu, characteristic_length, name 會由腳本動態填入
    max_steps: 1000000
    warmup_steps: 2000
    smagorinsky_constant: 0.2
    ghost_moments_s: 1.2
    # compute_step_size 會由腳本根據 interval 覆蓋

  outputs:
    enable_profiling: False
    gui:
      enable: True
      max_size: 1024
      show_zone_overlay: True
      gaussian_sigma: 1.0
      # interval_steps 會由腳本覆蓋

    video:
      enable: True
      fps: 30
      # filename, interval_steps 會由腳本覆蓋

    dataset:
      enable: True
      compression: "lzf"
      save_resolution: 512
      # folder, interval_steps 會由腳本覆蓋

  boundary_condition:
    type: [0, 2, 1, 2] # W, E, S, N (0:Vel, 1:Out, 2:Wall)
    # value 會由腳本根據 u_lb 動態填入

  mask:
    enable: True
    type: "png"
    invert: False
    # path 會由腳本填入

  domain_zones:
    sponge_y: 64
    sponge_x: 128
    buffer: 64
    inlet_buffer: 128
